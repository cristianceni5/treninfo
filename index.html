<!--Developed by Cristian Ceni-->
<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <link rel="icon" href="./icona-default.png" type="image/png">
    <link rel="icon" href="./icona-default.png" type="image/png" media="(prefers-color-scheme: light)">
    <link rel="icon" href="./icona-dark.png" type="image/png" media="(prefers-color-scheme: dark)">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Treninfo - Info su Treni semplici e veloci</title>

    <!-- Tailwind CSS with Configuration -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Google Sans', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        systemBlue: '#0066CC',
                        systemGray: '#8E8E93',
                        systemGray6Light: '#F2F2F7',
                        systemGray6Dark: '#1C1C1E',
                        italianGreen: '#009246',
                        italianRed: '#CE2B37',
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="styles.css">
</head>

<body
    class="bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-100 antialiased selection:bg-systemBlue selection:text-white">
    <div class="min-h-screen flex flex-col">
        <!-- Navbar with Gradient & Blur -->
        <nav
            class="fixed top-0 w-full z-50 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-zinc-200 dark:border-zinc-800 transition-colors duration-300">
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-italianGreen via-white to-italianRed">
            </div>
            <div class="max-w-5xl mx-auto px-6 h-16 flex items-center justify-between relative">
                <div class="flex items-center gap-2">
                    <img src="icona-default.png" alt="Treninfo logo" class="w-8 h-8 object-contain dark:hidden" />
                    <img src="icona-dark.png" alt="Treninfo logo" class="w-8 h-8 object-contain hidden dark:block" />
                    <span class="font-bold text-lg tracking-tight text-zinc-900 dark:text-white">Treninfo</span>
                </div>

                <div class="flex items-center gap-2 md:gap-4">
                    <button id="theme-toggle" type="button"
                        class="p-2 rounded-full text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors flex items-center justify-center"
                        aria-label="Cambia tema">
                        <span class="icon-moon" aria-hidden="true">
                            <svg class="block" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" />
                            </svg>
                        </span>
                        <span class="icon-sun" aria-hidden="true">
                            <svg class="block" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="4" />
                                <path d="M12 2v2" />
                                <path d="M12 20v2" />
                                <path d="m4.93 4.93 1.41 1.41" />
                                <path d="m17.66 17.66 1.41 1.41" />
                                <path d="M2 12h2" />
                                <path d="M20 12h2" />
                                <path d="m6.34 17.66-1.41 1.41" />
                                <path d="m19.07 4.93-1.41 1.41" />
                            </svg>
                        </span>
                    </button>

                    <div class="h-4 w-px bg-zinc-300 dark:bg-zinc-700 mx-1"></div>

                    <a href="https://github.com/cristianceni5/treninfoapp" target="_blank" rel="noreferrer"
                        class="p-2 text-zinc-500 hover:text-systemBlue transition-colors" aria-label="GitHub">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4" />
                            <path d="M9 18c-4.51 2-5-2-7-2" />
                        </svg>
                    </a>
                    <a href="https://instagram.com/treninfoapp" target="_blank" rel="noreferrer"
                        class="p-2 text-zinc-500 hover:text-systemBlue transition-colors" aria-label="Instagram">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect width="20" height="20" x="2" y="2" rx="5" ry="5" />
                            <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" />
                            <line x1="17.5" x2="17.51" y1="6.5" y2="6.5" />
                        </svg>
                    </a>
                </div>
            </div>
        </nav>

        <!-- Hero -->
        <main class="flex-grow pt-24 sm:pt-28 md:pt-32 pb-16">
            <div class="max-w-5xl mx-auto px-6 text-left mb-20">
                <div class="max-w-2xl">
                    <h1 class="text-4xl md:text-6xl font-bold tracking-tight mb-6 text-zinc-900 dark:text-white">
                        <span class="inline-flex items-center gap-3">Treninfo</span>
                        <br />
                        <span class="text-systemBlue">Info su Treni semplici e veloci.</span>
                    </h1>

                    <p class="text-sm text-zinc-600 dark:text-zinc-400 mb-8 leading-relaxed max-w-lg">
                        L'app per chi non ha tempo da perdere in stazione.
                        Tieni d'occhio il tuo treno in un baleno.
                        Info rapide, zero stress
                    </p>

                    <div class="flex flex-col items-start gap-4">
                        <p class="text-xs font-bold tracking-widest text-zinc-400 dark:text-zinc-600 uppercase">Presto
                            disponibile su</p>
                        <div class="flex flex-col sm:flex-row gap-4">
                            <button disabled
                                class="flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-zinc-100 dark:bg-zinc-800/50 border border-zinc-200 dark:border-zinc-700 text-zinc-400 dark:text-zinc-600 cursor-not-allowed opacity-70 transition-none min-w-[160px]">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="currentColor" aria-hidden="true">
                                    <path
                                        d="M17.8 19.34c-.87 1.25-1.78 2.5-3.15 2.53-1.35.03-1.79-.8-3.34-.8-1.57 0-2.06.78-3.29.83-1.32.06-2.33-1.32-3.17-2.53-1.73-2.5-3.05-7.07-1.27-10.16.89-1.54 2.48-2.51 4.2-2.54 1.33-.03 2.58.9 3.4.9.82 0 2.36-1.11 3.98-.95 1.36.13 2.57.92 3.25 1.94-.06.04-1.94 1.13-1.92 3.37.03 2.68 2.36 3.6 2.47 3.65-.01.03-.38 1.31-1.16 2.76zM15.48 4.24c.73-.88 1.21-2.11 1.08-3.34-1.04.04-2.3.69-3.05 1.57-.67.79-1.25 2.06-1.09 3.24 1.16.09 2.34-.58 3.06-1.47z" />
                                </svg>
                                <span class="text-sm font-semibold">App Store</span>
                            </button>
                            <button disabled
                                class="flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-zinc-100 dark:bg-zinc-800/50 border border-zinc-200 dark:border-zinc-700 text-zinc-400 dark:text-zinc-600 cursor-not-allowed opacity-70 transition-none min-w-[160px]">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                    fill="currentColor" aria-hidden="true">
                                    <path d="M3 3.5L20.5 12 3 20.5V3.5z" />
                                </svg>
                                <span class="text-sm font-semibold">Google Play</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <section class="border-t border-zinc-200 dark:border-zinc-800 pt-16">
                <div class="max-w-5xl mx-auto px-6">
                    <div
                        class="flex flex-col md:flex-row items-start md:items-end justify-between mb-10 gap-4 text-left">
                        <div>
                            <h2 class="text-xl md:text-2xl font-bold text-zinc-900 dark:text-white">Interfaccia Utente
                            </h2>
                            <p class="text-zinc-500 dark:text-zinc-400 mt-1">Design system nativo. Zero webview.</p>
                        </div>
                        <div class="hidden md:block text-xs font-mono text-zinc-400">
                            Scorri per vedere le schermate principali
                        </div>
                    </div>
                    <div data-drag-scroll class="flex overflow-x-auto pb-12 gap-8 -mx-6 px-6 md:mx-0 md:px-0 scrollbar-hide snap-x">
                        <div
                            class="flex flex-col items-center gap-4 min-w-[220px] sm:min-w-[240px] md:min-w-[260px] snap-center">
                            <div
                                class="phone-frame w-full bg-zinc-50 dark:bg-zinc-900 border-[8px] border-zinc-200 dark:border-zinc-700 flex items-center justify-center relative overflow-hidden">
                                <img src="/screens/screenprov.png" alt="Ricerca Stazione"
                                    class="w-full h-full object-cover" loading="lazy" />
                            </div>
                        </div>
                        <div
                            class="flex flex-col items-center gap-4 min-w-[220px] sm:min-w-[240px] md:min-w-[260px] snap-center">
                            <div
                                class="phone-frame w-full bg-zinc-50 dark:bg-zinc-900 border-[8px] border-zinc-200 dark:border-zinc-700 flex items-center justify-center relative overflow-hidden">
                                <img src="/screens/screenprov.png" alt="Tabellone Partenze"
                                    class="w-full h-full object-cover" loading="lazy" />
                            </div>
                        </div>
                        <div
                            class="flex flex-col items-center gap-4 min-w-[220px] sm:min-w-[240px] md:min-w-[260px] snap-center">
                            <div
                                class="phone-frame w-full bg-zinc-50 dark:bg-zinc-900 border-[8px] border-zinc-200 dark:border-zinc-700 flex items-center justify-center relative overflow-hidden">
                                <img src="/screens/screenprov.png" alt="Dettaglio Treno"
                                    class="w-full h-full object-cover" loading="lazy" />
                            </div>
                        </div>
                        <div
                            class="flex flex-col items-center gap-4 min-w-[220px] sm:min-w-[240px] md:min-w-[260px] snap-center">
                            <div
                                class="phone-frame w-full bg-zinc-50 dark:bg-zinc-900 border-[8px] border-zinc-200 dark:border-zinc-700 flex items-center justify-center relative overflow-hidden">
                                <img src="/screens/screenprov.png" alt="Info Sciopero"
                                    class="w-full h-full object-cover" loading="lazy" />
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="max-w-5xl mx-auto px-6 py-16">
                <div
                    class="w-screen relative left-1/2 -translate-x-1/2 border-t border-zinc-200 dark:border-zinc-700 mb-12">
                </div>
                <div class="relative">
                    <div class="grid md:grid-cols-2 gap-10 items-start">
                        <div>
                            <h2 class="text-2xl md:text-3xl font-bold mb-4 text-zinc-900 dark:text-white flex items-center gap-3">
                                <img src="icona-italia.png" alt="Italia" class="w-9 h-9 md:w-10 md:h-10 object-contain" />
                                <span>Progetto tutto italiano</span>
                            </h2>
                            <p class="text-zinc-600 dark:text-zinc-400 leading-relaxed mb-4">
                                Il progetto nasce nell'estate del 2025, quando ho notato che la famosa app per i treni
                                <b><a href="https://orariotreniapp.it/" target="_blank" rel="noreferrer">Orario
                                        Treni</a></b>
                                di Paolo Conte era praticamente inutilizzabile a causa dell'acquisizione da parte di un
                                colosso:
                                <b><a href="https://www.thetrainline.com/en-us" target="_blank"
                                        rel="noreferrer">Trainline</a></b>.
                                In sostanza, all'avvio l'app mostrava solo un messaggio che invitava a scaricare
                                Trainline, senza fornire alcuna funzionalità.
                                Essendo senza alcun dubbio l'app migliore in assoluto per consultare orari e stato dei
                                treni, ho deciso di mettermi in gioco
                                e creare una valida alternativa tutta italiana, che rispettasse la privacy degli utenti
                                e offrisse un'esperienza fluida e veloce.
                            </p>
                            <p class="text-zinc-600 dark:text-zinc-400 leading-relaxed">
                                Dall'estate studio le API di
                                <b><a href="https://www.trenitalia.com/" target="_blank"
                                        rel="noreferrer">Trenitalia</a></b>,
                                grazie anche alle repo pubbliche su
                                <b><a href="https://github.com/" target="_blank" rel="noreferrer">GitHub</a></b>
                                che cercano in qualche modo di comprenderne il funzionamento.
                                Inizialmente non era chiaro come farle funzionare, ma dopo varie prove e ricerche sono
                                arrivato alla conclusione che il modo migliore per
                                lavorare con quei JSON così complessi fosse farli passare da un mio server che ne
                                risistemasse un po' la struttura e le risposte.
                                Nasce così <b>Treninfo Server</b>, che funziona come un proxy tra l'app e le API
                                ufficiali di
                                <b><a href="https://www.trenitalia.com/" target="_blank"
                                        rel="noreferrer">Trenitalia</a></b> e
                                <b><a href="https://www.italotreno.com/it" target="_blank"
                                        rel="noreferrer">Italo</a></b>.
                                In pratica riceve le richieste dell’app, interroga le fonti giuste, normalizza i dati in
                                un formato unico e più pulito,
                                filtra campi inutili e applica cache/timeout per ridurre tempi di attesa e instabilità.
                                Il risultato è un’unica interfaccia affidabile e coerente che semplifica lo sviluppo
                                dell’app e migliora l’esperienza utente.
                            </p>
                            <p class="text-zinc-600 dark:text-zinc-400 leading-relaxed mt-4">
                                <b><a href="https://www.netlify.com/" target="_blank" rel="noreferrer">Netlify</a></b>
                                ospita le funzioni serverless
                                e semplifica il deploy del proxy, mentre la
                                <b><a href="https://docs.netlify.com/cli/get-started/" target="_blank"
                                        rel="noreferrer">Netlify CLI</a></b>
                                facilita lo sviluppo locale con endpoint coerenti.
                            </p>
                        </div>

                        <div class="grid gap-4">
                            <div
                                class="rounded-2xl border border-zinc-200 dark:border-zinc-800 bg-zinc-100 dark:bg-zinc-900 p-5">
                                <div class="text-sm font-semibold text-zinc-900 dark:text-white">Criticità: fonti
                                    frammentate</div>
                                <p class="text-sm text-zinc-600 dark:text-zinc-400 mt-2 leading-relaxed">
                                    ViaggiaTreno, LeFrecce e Italo espongono dati con strutture diverse, campi mancanti
                                    e formati che cambiano nel tempo. Quando un provider modifica anche solo un nome
                                    proprietà, si rompe l’allineamento tra app e sorgenti.
                                    Soluzione: normalizzazione server in un unico schema JSON, con adapter separati
                                    per ogni fonte e fallback quando alcune informazioni non sono disponibili.
                                </p>
                            </div>
                            <div
                                class="rounded-2xl border border-zinc-200 dark:border-zinc-800 bg-zinc-100 dark:bg-zinc-900 p-5">
                                <div class="text-sm font-semibold text-zinc-900 dark:text-white">Criticità: codici
                                    stazione diversi</div>
                                <p class="text-sm text-zinc-600 dark:text-zinc-400 mt-2 leading-relaxed">
                                    LeFrecce e ViaggiaTreno (Trenitalia) usano codici differenti, Italo (NTV) ha la sua
                                    codifica, e alcune stazioni cambiano denominazione o hanno abbreviazioni diverse.
                                    Questo rende complicata la ricerca e la fusione dei risultati.
                                    Soluzione: database locale con varianti e mappature coerenti, più una logica di
                                    matching “tollerante” ai nomi reali usati dai viaggiatori.
                                </p>
                            </div>
                            <div
                                class="rounded-2xl border border-zinc-200 dark:border-zinc-800 bg-zinc-100 dark:bg-zinc-900 p-5">
                                <div class="text-sm font-semibold text-zinc-900 dark:text-white">Criticità: tempi
                                    variabili</div>
                                <p class="text-sm text-zinc-600 dark:text-zinc-400 mt-2 leading-relaxed">
                                    Le risposte non sono sempre costanti: in alcuni orari i tempi aumentano, oppure una
                                    fonte risulta momentaneamente lenta o non disponibile. Questo può creare attese
                                    percepite troppo lunghe nella UI.
                                    Soluzione: cache intelligente, timeout e retry controllati, con una UI che mostra
                                    dati parziali e li aggiorna appena possibile.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="py-16 border-t border-zinc-200 dark:border-zinc-800">
                <div class="max-w-5xl mx-auto px-6 text-left">
                    <div class="flex items-center gap-3 mb-4">
                        <img src="icona-default.png" alt="Treninfo logo server"
                            class="w-11 h-11 md:w-12 md:h-12 object-contain dark:hidden" />
                        <img src="icona-dark.png" alt="Treninfo logo server"
                            class="w-11 h-11 md:w-12 md:h-12 object-contain hidden dark:block" />
                        <h2 class="text-2xl md:text-3xl font-bold text-zinc-900 dark:text-white">Server & Test</h2>
                    </div>
                    <p class="text-zinc-500 dark:text-zinc-400 mb-6 text-sm leading-relaxed">
                        Proxy attivo con treni RFI e Italo ora disponibili. Pagina test disponibile solo in locale.
                    </p>
                    <div class="flex flex-wrap gap-3">
                        <a id="server-health"
                            class="flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-semibold text-sm transition-all duration-200 active:scale-95 bg-systemBlue text-white hover:brightness-95"
                            href="/api/health">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" aria-hidden="true">
                                <rect width="20" height="8" x="2" y="2" rx="2" ry="2" />
                                <rect width="20" height="8" x="2" y="14" rx="2" ry="2" />
                                <line x1="6" x2="6.01" y1="6" y2="6" />
                                <line x1="6" x2="6.01" y1="18" y2="18" />
                            </svg>
                            <span>Health</span>
                        </a>
                        <a id="server-test"
                            class="flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-semibold text-sm transition-all duration-200 active:scale-95 bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-200 hover:brightness-95 border border-zinc-200 dark:border-zinc-700"
                            data-local-href="test-chiamate.html" href="test-chiamate.html">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" aria-hidden="true">
                                <path d="M9 11V7a4 4 0 0 1 8 0v4"/>
                                <rect width="18" height="12" x="3" y="11" rx="2" ry="2"/>
                            </svg>
                            <span>Pagina test</span>
                        </a>
                    </div>
                </div>
            </section>
        </main>

        <footer class="py-10 border-t border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-950">
            <div class="max-w-5xl mx-auto px-6 flex flex-col md:flex-row justify-between items-start gap-6">
                <div class="text-left">
                    <div class="font-bold text-zinc-900 dark:text-zinc-100">Treninfo Project</div>
                    <div class="text-xs text-zinc-500 mt-1 flex flex-wrap gap-2 items-center">
                        <span>Dev by Cristian Ceni</span>
                        <span>-</span>
                        <span>Powered by ViaggiaTreno, LeFrecce, Italo, Netlify CLI</span>
                    </div>
                </div>

                <div class="flex gap-6 text-sm text-zinc-500 dark:text-zinc-400 font-mono">
                    <a href="https://github.com/cristianceni5/treninfo"
                        class="hover:text-systemBlue transition-colors">/repo</a>
                    <a href="#" class="hover:text-systemBlue transition-colors">/api_docs</a>
                    <a href="#" class="hover:text-systemBlue transition-colors">/status</a>
                </div>
            </div>
        </footer>
    </div>

    <script src="app.js"></script>
</body>

</html>
